<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Boxicons -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="../../Style/bootstrap.css">
  <link rel="stylesheet" href="../../Style/style.css">
</head>

<body>
  <!-- ================= SIDEBAR ================= -->
  <div class="sidebar d-none d-lg-block">
    <div class="sidebar-header p-3 border-bottom">
      <h5 class="mb-0">
        <i class='bx bx-shield-quarter'></i> Admin Panel
      </h5>
    </div>

    <div class="sidebar-body p-0">
      <nav class="admin-menu">
        <ul>
          <li class="active">
            <a href="/admin/dashboard">
              <i class='bx bx-grid-alt'></i>
              Dashboard
            </a>
          </li>

          <li>
            <a href="/admin/users">
              <i class='bx bx-user'></i>
              Users
            </a>
          </li>

          <li>
            <a href="/admin/tickets">
              <i class='bx bx-ticket'></i>
              Tickets
            </a>
          </li>

          <li>
            <a href="/admin/settings">
              <i class='bx bx-cog'></i>
              Settings
            </a>
          </li>

          <li class="logout">
            <a href="/logout">
              <i class='bx bx-log-out'></i>
              Logout
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>

  <!-- Mobile offcanvas sidebar -->
  <div class="offcanvas offcanvas-start sidebar" tabindex="-1" id="sidebar">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title">
        <i class='bx bx-shield-quarter'></i> Admin Panel
      </h5>
      <button class="btn-close" data-bs-dismiss="offcanvas"></button>
    </div>

    <div class="offcanvas-body p-0">
      <nav class="admin-menu">
        <ul>
          <li class="active">
            <a href="/admin/dashboard">
              <i class='bx bx-grid-alt'></i>
              Dashboard
            </a>
          </li>

          <li>
            <a href="/admin/users">
              <i class='bx bx-user'></i>
              Users
            </a>
          </li>

          <li>
            <a href="/admin/tickets">
              <i class='bx bx-ticket'></i>
              Tickets
            </a>
          </li>

          <li>
            <a href="/admin/settings">
              <i class='bx bx-cog'></i>
              Settings
            </a>
          </li>

          <li class="logout">
            <a href="/logout">
              <i class='bx bx-log-out'></i>
              Logout
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>

  <!-- ================= MAIN CONTENT ================= -->
  <div class="main-content">
    <!-- ================= NAVBAR ================= -->
    <nav class="navbar navbar-light bg-white border-bottom px-3">
      <div class="d-flex align-items-center">
        <!-- Sidebar Toggle (Mobile) -->
        <button class="btn btn-outline-primary d-lg-none me-2"
                data-bs-toggle="offcanvas"
                data-bs-target="#sidebar">
          <i class='bx bx-menu'></i>
        </button>

        <span class="navbar-brand mb-0 h5 d-lg-none">  Ticket Management</span>
        <span class="navbar-brand mb-0 h5 d-none d-lg-block">Ticket Management</span>
      </div>

      <div class="d-flex align-items-center gap-3">
        <!-- Search Bar -->
        <div class="position-relative">
          <input type="text" class="form-control" placeholder="Search..." style="padding-left: 36px;">
          <i class='bx bx-search position-absolute' style='left: 12px; top: 50%; transform: translateY(-50%); color: #6c757d;'></i>
        </div>
        
        <!-- Theme Toggle -->
        <div class="dropdown">
          <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="themeDropdown" data-bs-toggle="dropdown">
            <i class='bx bx-moon'></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="themeDropdown">
            <li><a class="dropdown-item" href="#" data-theme="light">Light</a></li>
            <li><a class="dropdown-item" href="#" data-theme="dark">Dark</a></li>
            <li><a class="dropdown-item" href="#" data-theme="auto">Auto</a></li>
          </ul>
        </div>
        
        <i class='bx bx-bell fs-5'></i>
        <i class='bx bx-user-circle fs-4'></i>
      </div>
    </nav>

    <!-- DASHBOARD CARDS -->
    <div class="p-4">
      <div class="row g-3 mb-4">
        <div class="col-xl-3 col-md-6">
          <div class="card dashboard-card total-tickets">
            <h6>Total Tickets</h6>
            <h3>120</h3>
          </div>
        </div>

        <div class="col-xl-3 col-md-6">
          <div class="card dashboard-card open">
            <h6>Open</h6>
            <h3>45</h3>
          </div>
        </div>

        <div class="col-xl-3 col-md-6">
          <div class="card dashboard-card in-progress">
            <h6>In Progress</h6>
            <h3>30</h3>
          </div>
        </div>

        <div class="col-xl-3 col-md-6">
          <div class="card dashboard-card closed">
            <h6>Closed</h6>
            <h3>45</h3>
          </div>
        </div>
      </div>

      <!-- RECENT TICKETS TABLE -->
      <div class="card p-3">
        <h6 class="mb-3">Recent Tickets</h6>

        <div class="table-responsive">
          <table class="table table-hover align-middle">
            <thead class="table-light">
              <tr>
                <th>ID</th>
                <th>Subject</th>
                <th>Priority</th>
                <th>Status</th>
                <th>Created</th>
                <th>Action</th>
              </tr>
            </thead>

            <tbody>
              <tr>
                <td>#101</td>
                <td>Login issue</td>
                <td><span class="badge bg-danger">High</span></td>
                <td><span class="badge bg-warning text-dark">Open</span></td>
                <td>02 Jan 2026</td>
                <td><a href="#" class="btn btn-sm btn-outline-primary">View</a></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Theme toggle functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Check for saved theme in localStorage or default to 'light'
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', savedTheme);
      
      // Add event listeners to theme dropdown items
      const themeLinks = document.querySelectorAll('[data-theme]');
      themeLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const selectedTheme = this.getAttribute('data-theme');
          
          // Update the data-theme attribute on the html element
          document.documentElement.setAttribute('data-theme', selectedTheme);
          
          // Save the selected theme to localStorage
          localStorage.setItem('theme', selectedTheme);
          
          // Update the icon based on selected theme
          const themeIcon = document.querySelector('#themeDropdown i');
          if (selectedTheme === 'dark') {
            themeIcon.className = 'bx bx-sun';
          } else {
            themeIcon.className = 'bx bx-moon';
          }
        });
      });
      
      // Set initial icon based on saved theme
      const themeIcon = document.querySelector('#themeDropdown i');
      if (savedTheme === 'dark') {
        themeIcon.className = 'bx bx-sun';
      }
    });
  </script>
</body>
</html>